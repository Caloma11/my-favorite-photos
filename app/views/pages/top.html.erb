<div class="container">
  <h1>These are our 10 most favorited photos:</h1>

  <div class="row">
    <% @blobs.each do |blob| %>
      <div class="col-sm-4 my-3">
        <div class="col-12" style="background-image: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.3)), url(<%= cl_image_path blob[:blob].key %>); height: 200px; background-position: center; background-size: cover; border: 1px solid black; position: relative;">
        </div>
        <p><%= blob[:count] %> times favorited </p>
        <% if current_user.has_favorite?(blob[:blob]) %>
          <%= link_to favorite_path(current_user.favorite_of(blob[:blob])), method: :delete do %>
            <i class="fas fa-heart" style="color: red; position: absolute; top: 4px; right: 24px; font-size: 22px"></i>
          <% end %>
        <% else %>
          <%= link_to favorites_path(blob: blob[:blob]), method: :post do %>
            <i class="far fa-heart" style="color: red; position: absolute; top: 4px; right: 24px; font-size: 22px"></i>
          <% end %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

